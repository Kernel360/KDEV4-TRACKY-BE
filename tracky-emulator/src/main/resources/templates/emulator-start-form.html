<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>에뮬레이터 시동 설정</title>
    <script>
        function validateEmulatorCount(event) {
            const count = document.getElementById("emulator-count").value;
            if (parseInt(count) !== 1) {
                alert("⚠️ 현재는 1대만 설정할 수 있습니다.");
                event.preventDefault(); // 폼 전송 막기
                return false;
            }
            return true;
        }
    </script>
</head>
<body>
<h2>에뮬레이터 수동 시동 설정</h2>

<form th:action="@{/emulator/configure}" method="post" onsubmit="return validateEmulatorCount(event)">
    <label>에뮬레이터 개수:
        <input type="number" id="emulator-count" name="count" min="1" value="1"/>
    </label>
    <button type="submit">에뮬레이터 개수 설정</button>
</form>

<br/>
<form th:action="@{/emulator/fetch-token}" method="post">
    <button type="submit">토큰 및 초기 정보 받아오기</button>
</form>

<br/>
<form th:action="@{/emulator/start}" method="post">
    <button type="submit">시동 ON 요청</button>
</form>

<p th:if="${message}" th:text="${message}">결과 메시지</p>
</body>
</html>